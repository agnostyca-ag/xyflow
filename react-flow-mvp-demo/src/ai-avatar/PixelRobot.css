.pixel-robot {
  width: 32px;
  height: 32px;
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
  transform-origin: center;
  transition: transform 0.1s ease;
  position: relative;
}

/* Robot body animations */
.robot-body {
  transition: filter 0.2s ease;
}

/* Robot legs animations */
.robot-legs {
  transition: background-position 0.1s ease;
}

/* Idle state - gentle bobbing */
.robot-idle {
  animation: robotIdle 2s ease-in-out infinite;
}

@keyframes robotIdle {
  0%, 100% { transform: translateY(0px) scale(1); }
  50% { transform: translateY(-1px) scale(1.01); }
}

/* Walking state - bouncy movement with animated legs */
.robot-walking {
  animation: robotWalk 0.6s ease-in-out infinite;
}

.robot-walking .robot-legs {
  animation: legWalk 0.6s steps(4) infinite;
}

@keyframes robotWalk {
  0%, 100% { transform: translateY(0px) scaleY(1); }
  25% { transform: translateY(-2px) scaleY(1.05) scaleX(0.98); }
  50% { transform: translateY(-1px) scaleY(0.95) scaleX(1.02); }
  75% { transform: translateY(-2px) scaleY(1.05) scaleX(0.98); }
}

@keyframes legWalk {
  0% { background-position: 0 0; }
  25% { background-position: -32px 0; }
  50% { background-position: -64px 0; }
  75% { background-position: -96px 0; }
  100% { background-position: 0 0; }
}

/* Turning state - rotation with leg movement */
.robot-turning {
  animation: robotTurn 0.3s ease-in-out;
}

.robot-turning .robot-legs {
  animation: legTurn 0.3s ease-in-out;
}

@keyframes robotTurn {
  0% { transform: rotate(0deg) scale(1); }
  50% { transform: rotate(8deg) scale(1.1); }
  100% { transform: rotate(0deg) scale(1); }
}

@keyframes legTurn {
  0%, 100% { background-position: 0 0; }
  50% { background-position: -32px 0; }
}

/* Kicking state - powerful kick animation */
.robot-kicking {
  animation: robotKick 0.5s ease-out;
}

.robot-kicking .robot-legs {
  animation: legKick 0.5s ease-out;
}

@keyframes robotKick {
  0% { transform: translateX(0px) scale(1); }
  20% { transform: translateX(-3px) scale(1.05) rotate(-3deg); }
  40% { transform: translateX(-1px) scale(1.1) rotate(-1deg); }
  60% { transform: translateX(10px) scale(1.2) rotate(8deg); }
  80% { transform: translateX(5px) scale(1.1) rotate(4deg); }
  100% { transform: translateX(0px) scale(1) rotate(0deg); }
}

@keyframes legKick {
  0% { background-position: 0 0; }
  30% { background-position: -32px 0; }
  60% { background-position: -96px 0; transform: translateX(3px); }
  100% { background-position: 0 0; transform: translateX(0px); }
}

/* Waiting state - excited wiggling */
.robot-waiting {
  animation: robotWait 1.2s ease-in-out infinite;
}

.robot-waiting .robot-legs {
  animation: legWait 1.2s ease-in-out infinite;
}

@keyframes robotWait {
  0%, 100% { transform: rotate(0deg) scale(1); }
  25% { transform: rotate(1deg) scale(1.02); }
  50% { transform: rotate(0deg) scale(1.05); }
  75% { transform: rotate(-1deg) scale(1.02); }
}

@keyframes legWait {
  0%, 100% { background-position: 0 0; }
  25% { background-position: -32px 0; }
  50% { background-position: 0 0; }
  75% { background-position: -64px 0; }
}

/* Direction-based transformations */
.facing-left { transform: scaleX(-1); }
.facing-up-left { transform: scaleX(-1) rotate(-30deg); }
.facing-up { transform: rotate(-90deg); }
.facing-up-right { transform: rotate(-30deg); }
.facing-right { /* default */ }
.facing-down-right { transform: rotate(30deg); }
.facing-down { transform: rotate(90deg); }
.facing-down-left { transform: scaleX(-1) rotate(30deg); }

/* Hover effects - glowing robot */
.pixel-robot:hover .robot-body {
  filter: brightness(1.3) drop-shadow(0 0 8px rgba(0, 255, 65, 0.8));
}

.pixel-robot:hover .robot-legs {
  filter: brightness(1.2);
}

/* Special excited state when following mouse */
.robot-excited .robot-body {
  animation: robotExcitedBody 0.4s ease-in-out infinite;
  filter: brightness(1.15) drop-shadow(0 0 6px rgba(65, 105, 225, 0.6));
}

.robot-excited .robot-legs {
  animation: legWalk 0.3s steps(4) infinite;
}

@keyframes robotExcitedBody {
  0%, 100% { transform: scale(1) rotate(0deg); }
  50% { transform: scale(1.05) rotate(1deg); }
}

/* Antenna blinking effect */
.robot-idle .robot-body,
.robot-waiting .robot-body {
  animation: antennaBlinkIdle 3s ease-in-out infinite;
}

.robot-walking .robot-body,
.robot-excited .robot-body {
  animation: antennaBlinkActive 1s ease-in-out infinite;
}

@keyframes antennaBlinkIdle {
  0%, 90%, 100% { filter: brightness(1); }
  95% { filter: brightness(1.5) drop-shadow(0 0 4px #ff3333); }
}

@keyframes antennaBlinkActive {
  0%, 70%, 100% { filter: brightness(1.1); }
  85% { filter: brightness(1.8) drop-shadow(0 0 6px #ff3333); }
}

/* Particle effects for kicks */
.kick-particles {
  position: absolute;
  pointer-events: none;
  z-index: 999;
}

.kick-particle {
  position: absolute;
  width: 3px;
  height: 3px;
  background: #ffaa00;
  border-radius: 50%;
  box-shadow: 0 0 4px #ff6600;
  animation: kickParticle 0.8s ease-out forwards;
}

@keyframes kickParticle {
  0% {
    opacity: 1;
    transform: translate(0, 0) scale(1);
    box-shadow: 0 0 6px #ff6600;
  }
  100% {
    opacity: 0;
    transform: translate(var(--particle-x, 25px), var(--particle-y, -15px)) scale(0.3);
    box-shadow: 0 0 2px #ff6600;
  }
}